---
import Layout from "../../layouts/Layout.astro";

// Generate static paths at build time
export async function getStaticPaths() {
  const posts = await Astro.glob("../../content/posts/*.md"); // Get all .md files from the content directory

  return posts.map((post) => ({
    params: {
      slug: post.file.split("/").pop().split(".").shift(), // Get filename without extension
    },
    props: { post },
  }));
}

const { post } = Astro.props;
const {
  frontmatter: { title, date },
} = post;
const { Content } = post;
---

<Layout>
  <Content />
</Layout>
